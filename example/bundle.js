(()=>{"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))}function t(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function n(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create,Object.create;var r={up:[0,-1],down:[0,1],left:[-1,0],right:[1,0]},o={up:"down",down:"up",left:"right",right:"left"};var i=document.getElementById("canvas"),a=i.getContext("2d");(function(i){var a,l,u;return void 0===i&&(i={}),e(this,void 0,void 0,(function(){var c,f,s,h,d,v=this;return t(this,(function(w){switch(w.label){case 0:return c=null!==(a=i.height)&&void 0!==a?a:8,f=null!==(l=i.width)&&void 0!==l?l:8,s=null!==(u=i.start)&&void 0!==u?u:[0,0],h=new Array(f).fill(null).map((function(){return new Array(c).fill(null)})),d=function(a,l){return e(v,void 0,void 0,(function(){var e,u,s,v,w,b,y,p,g,m,S,x,T,k,O;return t(this,(function(t){switch(t.label){case 0:e=n(a,2),u=e[0],s=e[1],h[u][s]={up:!1,down:!1,left:!1,right:!1},l&&(h[u][s][o[l]]=!0),v=["up","down","left","right"],t.label=1;case 1:t.trys.push([1,8,9,10]),w=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(e){for(var t=JSON.parse(JSON.stringify(e)),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t}(v)),b=w.next(),t.label=2;case 2:return b.done?[3,7]:(y=b.value,p=n(r[y],2),g=p[0],m=p[1],x=s+m,-1===(S=u+g)||-1===x||S===f||x===c||h[S][x]?[3,6]:(h[u][s][y]=!0,i.cb?[4,i.cb(JSON.parse(JSON.stringify(h)))]:[3,4]));case 3:t.sent(),t.label=4;case 4:return[4,d([S,x],y)];case 5:t.sent(),t.label=6;case 6:return b=w.next(),[3,2];case 7:return[3,10];case 8:return T=t.sent(),k={error:T},[3,10];case 9:try{b&&!b.done&&(O=w.return)&&O.call(w)}finally{if(k)throw k.error}return[7];case 10:return[2]}}))}))},[4,d(s)];case 1:return w.sent(),[2,h]}}))}))})({width:50,height:50}).then((function(e){var t=function(e,t,n){return function(e){i.width=50*e,i.height=50*e,a.clearRect(0,0,i.width,i.height);for(var t=0;t<50;t++)for(var r=0;r<50;r++)if(n[t][r]){var o=n[t][r],l=o.up,u=o.down,c=o.left,f=o.right;l||(a.beginPath(),a.moveTo(t*e,r*e),a.lineTo(t*e+e,r*e),a.stroke()),u||(a.beginPath(),a.moveTo(t*e,r*e+e),a.lineTo(t*e+e,r*e+e),a.stroke()),c||(a.beginPath(),a.moveTo(t*e,r*e),a.lineTo(t*e,r*e+e),a.stroke()),f||(a.beginPath(),a.moveTo(t*e+e,r*e),a.lineTo(t*e+e,r*e+e),a.stroke())}}}(0,0,e),n=function(){var e=window.innerHeight<window.innerWidth?window.innerHeight:window.innerWidth;t(.8*e/50)};window.addEventListener("resize",n),n()}))})();